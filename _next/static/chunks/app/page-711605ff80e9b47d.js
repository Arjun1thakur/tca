(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1228:(e,t,s)=>{Promise.resolve().then(s.bind(s,1283))},1283:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>C});var l=s(5155),a=s(2115);s(5565);var r=s(3932),i=s.n(r),n=s(8698),o=s(7058);let c=(0,s(9904).Wp)({databaseURL:"https://tca3rdedition-default-rtdb.firebaseio.com",projectId:"tca3rdedition"}),m=(0,o.aU)(c),d=(0,n.C3)(c);var x=s(1478),p=s(5415);let g=e=>{let{pollIndexNumber:t}=e;return(0,l.jsxs)("header",{className:" flex justify-between 2xl:10% px-[5%] py-7 header",children:[(0,l.jsx)("div",{children:(0,l.jsx)("img",{src:"/logo.png",alt:"logo home",className:" 2xl:h-20 h-14"})}),(0,l.jsxs)("div",{className:"flex items-center xl:gap-10 gap-5",children:[(0,l.jsx)("a",{href:"",className:"text-[#D9D9C4] 2xl:text-lg text-base opacity-90",children:"Live Feed"}),(0,l.jsx)("a",{href:"",className:"text-[#D9D9C4] 2xl:text-lg text-base opacity-90",children:"Snap Station"}),(0,l.jsx)("a",{href:"",className:"text-[#D9D9C4] 2xl:text-lg text-base opacity-90",children:"Trivia Time"}),(0,l.jsx)("a",{href:"",className:"text-[#D9D9C4] 2xl:text-lg text-base opacity-90",children:"Get In Touch"}),(0,l.jsxs)("a",{href:"#poll",className:"text-[#FF4444] border px-2 pr-4 border-red-500 py-1 rounded-3xl 2xl:text-lg text-base opacity-90 flex gap-2 items-center",children:[" ",t&&(0,l.jsxs)("span",{className:"bg-red-500 animate-pulse text-black rounded-full w-6 h-6 grid place-items-center",children:[t," "]}),"Live Polling"]}),(0,l.jsxs)("button",{onClick:function(){localStorage.removeItem("user"),window.location.href=window.location.origin+window.location.pathname},className:"uppercase flex gap-2 2xl:text-lg text-base items-center bg-white text-[#000A32] rounded-3xl py-1 px-3",children:[(0,l.jsx)("img",{className:"h-6 w-4",src:"/logout.svg",alt:"logout svh"})," ","logout"]})]})]})};var u=s(5610);let h=()=>{let e=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let t=new u.Ay({debug:!0});return u.Ay.isSupported()&&e.current?(t.loadSource("https://d208dezl4hi3dy.cloudfront.net/out/v1/ChannelGrp_66570fd77bb17/Channel_678df7c225fc0/non_drm_hls_endpoint_1737357250/index.m3u8"),t.attachMedia(e.current),t.on(u.Ay.Events.ERROR,e=>{console.log(e)})):console.log("load"),()=>{t.destroy()}},[]),(0,l.jsxs)("section",{className:"lg:px-[10%] px-[5%]  section relative z-10 ",children:[(0,l.jsxs)("div",{className:"mb-[-10%] relative heading_",children:[(0,l.jsx)("h1",{className:"smalltext text-center ",children:"Experience the action at"}),(0,l.jsxs)("h2",{className:"bigtext text-center ",children:["The Conviviality Awards",(0,l.jsx)("br",{}),"3rd Edition 2025"]})]}),(0,l.jsx)("div",{className:"w-full flex items-center justify-center",children:(0,l.jsxs)("div",{className:"iframe_div relative",children:[(0,l.jsx)("img",{src:"/small_ring.png",alt:"ring around live video",className:"w-[400px] h-[400px] absolute right-[-250px] top-[-100px] z-[-1] mix-blend-screen custom-spin iframe_right"}),(0,l.jsx)("img",{src:"/stars.png",alt:"ring around live video",className:"w-[100vh] h-[100vh] absolute right-[-50vh] top-[0px] z-[-1] mix-blend-screen custom-spin "}),(0,l.jsx)("img",{src:"/white_ring_complete.png",alt:"ring around live video",className:"min-w-[60vw] w-[60vw] min-h-[60vw] h-[60vw] absolute left-[-400px] bottom-[-300px] z-[-1] mix-blend-screen custom-spin iframe_right"}),(0,l.jsx)("img",{src:"/stars.png",alt:"ring around live video",className:"w-[100vh] h-[100vh] absolute left-[-50vh] top-[5vh] z-[-1] mix-blend-screen custom-spin-anti  "}),(0,l.jsx)("video",{ref:e,controls:!0,style:{width:"100%",height:"100%",borderRadius:"0"}})]})}),(0,l.jsxs)("div",{className:"emoji-list border bg-[#0000004D] p-2 rounded-[30px] w-fit relative left-[50%] translate-x-[-50%] translate-y-[-80%]",children:[(0,l.jsx)("span",{className:"emoji border rounded-full","data-emoji":"\uD83D\uDC4D",children:"\uD83D\uDC4D"}),(0,l.jsx)("span",{className:"emoji border rounded-full","data-emoji":"❤️",children:"❤️"}),(0,l.jsx)("span",{className:"emoji border rounded-full","data-emoji":"\uD83C\uDF89",children:"\uD83C\uDF89"})]})]})},f=e=>{let{closeSnap:t}=e,[s,r]=(0,a.useState)(!1),o=e=>{let t=e.target.dataset.url;i()(".overlay-frame").css("backgroundImage","url('".concat(t,"')"))},c=async()=>{try{let e=(0,n.KR)(d,"selfie");await (0,n.yo)(e,{capture:(0,n.GV)(1)}),console.log("Poll submission result updated in Realtime Database.")}catch(e){console.error("Error updating poll submission result in Realtime Database: ",e)}};return(0,a.useEffect)(()=>{let e=document.getElementById("camera"),t=document.getElementById("snapshot"),s=document.getElementById("output"),l=document.getElementById("image_download_popup"),a=document.querySelector(".overlay-frame");navigator.mediaDevices.getUserMedia({video:!0}).then(t=>{e.srcObject=t,console.log("Stream:",t)}).catch(e=>{console.error("Error accessing the camera:",e)}),document.getElementById("capture").addEventListener("click",()=>{let r,i,n,o;let c=t.getContext("2d"),m=16/9,d=1920,x=1080;window.innerWidth<768&&(m=9/16,d=1080,x=1920);let p=e.videoWidth,g=e.videoHeight;p/g>m?(n=(p-(r=(i=g)*m))/2,o=0):(i=(r=p)/m,n=0,o=(g-i)/2),t.width=d,t.height=x,c.translate(t.width,0),c.scale(-1,1),c.drawImage(e,n,o,r,i,0,0,d,x),c.setTransform(1,0,0,1,0,0);let u=new Image;u.src=window.getComputedStyle(a).backgroundImage.slice(5,-2),u.onload=function(){c.drawImage(u,0,0,t.width,t.height);let e=t.toDataURL("image/png");s.src=e,document.querySelector(".out_link").href=e,s.style.display="block",l.style.display="flex"}})},[]),(0,a.useEffect)(()=>{setTimeout(()=>{let e=document.getElementById("snapshot");if(!e){console.error("Canvas not found");return}console.log("Canvas ready:",e.getContext("2d"))},500)},[]),(0,l.jsxs)("div",{id:"app",className:"relative w-full h-screen mx-auto",children:[(0,l.jsx)("button",{onClick:t,className:"absolute top-4 right-4 bg-white text-[#000A32] py-2 px-6 rounded-3xl shadow-lg z-30",children:"Close"}),(0,l.jsxs)("div",{id:"frame-container",className:"relative w-full h-screen overflow-hidden",children:[(0,l.jsx)("video",{id:"camera",autoPlay:!0,playsInline:!0,className:"w-full h-screen"}),(0,l.jsx)("div",{className:"overlay-frame absolute top-0 left-0 w-full h-full pointer-events-none"})]}),(0,l.jsxs)("div",{className:"bg-black/50 fixed bottom-0 w-screen h-auto",children:[(0,l.jsx)("div",{className:"w-full overflow-x-auto overflow-y-hidden h-28 flex gap-6 items-center justify-center",children:["Filter1.png","Filter2.png","Filter3.png"].map((e,t)=>(0,l.jsx)("div",{className:"cursor-pointer min-w-28 bg-white",children:(0,l.jsx)("img",{onClick:o,src:e,alt:"Frame ".concat(t+1),width:100,height:100,"data-url":"/".concat(e)})},t))}),(0,l.jsx)("div",{className:"flex justify-center my-4",children:(0,l.jsx)("button",{id:"capture",className:"bg-white text-[#000A32] py-2 px-6 rounded-3xl shadow-lg",children:"Capture"})})]}),(0,l.jsx)("div",{id:"image_download_popup",onClick:e=>{document.querySelector("#image_download_popup").style.display="none"},className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"relative bg-white p-6 rounded-lg shadow-lg max-w-md mx-auto",children:[(0,l.jsx)("button",{onClick:()=>r(!1),className:"absolute top-2 right-2 text-gray-600 text-2xl"}),(0,l.jsx)("canvas",{id:"snapshot",className:"hidden"}),(0,l.jsx)("img",{id:"output",alt:"Captured",className:"max-w-full rounded-lg"}),(0,l.jsx)("div",{className:"flex justify-center mt-4",children:(0,l.jsx)("a",{className:"out_link text-white bg-blue-500 px-6 py-3 rounded-md flex items-center gap-2",download:!0,href:"",target:"_blank",onClick:e=>{document.querySelector("#image_download_popup").style.display="none",c()},rel:"noopener noreferrer",children:"Download"})})]})})]})},v=()=>{let[e,t]=a.useState(!1);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("section",{id:"snap",className:"section 2xl:px-[10%] px-[5%] lg:py-[15%] py-28 grid  items-center relative z-10",children:[(0,l.jsxs)("div",{className:"flex justify-center flex-col sm:items-start items-center",children:[(0,l.jsx)("h2",{className:"smalltext sm:text-left text-center ",children:"Snap, Smile and"}),(0,l.jsxs)("h3",{className:"bigtext sm:text-left text-center",children:["share your ",(0,l.jsx)("br",{})," Moment"]}),(0,l.jsxs)("button",{onClick:()=>t(!0),className:"uppercase flex gap-2 2xl:text-lg lg:mt-[5%] mt-7 text-base items-center bg-white text-[#000A32] rounded-3xl py-1 px-3",children:[(0,l.jsx)("img",{className:"h-6 w-4",src:"/snap.svg",alt:"img snap"}),"snap"]})]}),(0,l.jsxs)("div",{className:"frame_img flex-1 relative 2xl:h-[500px] xl:h-[400px] h-[340px] sm:translate-x-[5%]  sm:block flex sm:items-start items-center sm:justify-normal justify-center",children:[(0,l.jsx)("div",{className:"absolute top-[50%] -rotate-12 sm:left-[auto] left-[-10%] 2xl:w-[300px] xl:w-[270px] w-[180px] aspect-[9/16] z-0 opacity-0 image_1",children:(0,l.jsx)("img",{src:"/filter1.jpeg",alt:"img frame",className:"h-full w-full pointer-events-none object-cover select-none"})}),(0,l.jsx)("div",{className:"absolute top-[50%] sm:left-[35%] 2xl:w-[300px] xl:w-[270px] w-[180px] aspect-[9/16] z-10 opacity-0 image_2",children:(0,l.jsx)("img",{src:"/filter2.jpeg",alt:"img frame",className:"h-full w-full pointer-events-none object-cover select-none"})}),(0,l.jsx)("div",{className:"absolute top-[50%] sm:left-[65%] right-[-10%] rotate-12 2xl:w-[300px] xl:w-[270px] w-[180px] aspect-[9/16] opacity-0 image_3",children:(0,l.jsx)("img",{src:"/filter3.jpeg",alt:"img frame",className:"h-full w-full pointer-events-none object-cover select-none"})}),(0,l.jsx)("img",{src:"/white_ring_complete.png",alt:"white snap images",className:"absolute sm:h-[300px] h-[200px] sm:top-[80%] top-[60%] lg:left-[200px] sm:left-[25%] left-[25%] z-[-1] pointer-events-none photo_ke_niche custom-spin-anti"})]})]}),e&&(0,l.jsx)("div",{className:"fixed h-screen w-screen inset-0 z-[9999]",children:(0,l.jsx)(f,{closeSnap:()=>{t(!1)}})})]})},w=()=>(0,l.jsxs)("footer",{className:"bg-black 2xl:10% px-[5%] py-20  relative z-10",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4  gap-8 lg:gap-0 ",children:[(0,l.jsx)("div",{className:"flex lg:block items-center justify-center",children:(0,l.jsx)("img",{className:"h-[140px] 2lg:h-[160px]",src:"/logo.png",alt:"logo"})}),(0,l.jsxs)("div",{className:"grid grid-rows-3 gap-4 mt-8 lg:gap-0 lg:mt-0 ",children:[(0,l.jsx)("a",{className:"text-xl text-[#d9d9c4] text-center lg:text-left",href:"#",children:"Live Feed"}),(0,l.jsx)("a",{className:"text-xl text-[#d9d9c4]  text-center lg:text-left",href:"#",children:"Snap Station"}),(0,l.jsx)("a",{className:"text-xl text-[#d9d9c4] text-center lg:text-left",href:"#",children:"Trivia Time"})]}),(0,l.jsxs)("div",{className:"grid grid-rows-3 gap-4 lg:gap-0",children:[(0,l.jsx)("a",{className:"text-xl text-[#d9d9c4] text-center lg:text-left",href:"#",children:"Live Polling"}),(0,l.jsx)("a",{className:"text-xl text-[#d9d9c4] text-center lg:text-left",href:"#",children:"Get In Touch"})]}),(0,l.jsxs)("div",{className:"grid grid-rows-3 gap-4 lg:gap-0",children:[(0,l.jsx)("h3",{className:"text-2xl text-[#d9d9c4] font-bold text-center lg:text-left",children:"Contact Us"}),(0,l.jsxs)("a",{className:"text-xl text-[#d9d9c4] flex gap-4 justify-center lg:justify-start",href:"mailto:tca@pernod-richard.com",children:[(0,l.jsx)("img",{className:"h-5",src:"/mail.svg",alt:""})," ","tca@pernod-richard.com"]}),(0,l.jsxs)("a",{className:"text-xl text-[#d9d9c4] flex gap-4 justify-center lg:justify-start",href:"callto:+919876543210",children:[(0,l.jsx)("img",{className:"h-6",src:"/phone.svg",alt:""})," +91 987 654 3210"]})]})]}),(0,l.jsx)("p",{className:"text-center mt-10 text-[#565656]",children:"All Rights Reserved @ Pernod Ricard 2024"})]}),b=()=>{let[e,t]=(0,a.useState)("start"),[s,r]=(0,a.useState)([]),[i,c]=(0,a.useState)(0),[x,p]=(0,a.useState)(null),[g,u]=(0,a.useState)(!1),[h,f]=(0,a.useState)({correct:0,incorrect:0}),[v,w]=(0,a.useState)("");(0,a.useEffect)(()=>{let e=b("user");e&&w(e.email)},[]);let b=e=>{try{let t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(e){return console.error("Error retrieving from localStorage:",e),null}},j=e=>{p(e.text)};async function N(e,t){try{let s=(0,o.rJ)(m,e),l=(0,n.P)(s,(0,o._M)("email","==",t.email));if(!(await (0,o.GG)(l)).empty)return{success:!1,message:"Email already exists"};let a=await (0,o.gS)(s,t);return{success:!0,id:a.id}}catch(e){return console.error("Error adding document: ",e),{success:!1,error:e.message}}}let y=()=>{N("trivia_submissions",{email:v,correct_answers:h.correct,wrong_answers:h.incorrect,created_at:new Date().toISOString()})},_=s[i];return(0,a.useEffect)(()=>{v&&(async()=>{try{let e=(0,n.P)((0,o.rJ)(m,"trivia_submissions"),(0,o._M)("email","==",v)),s=await (0,o.GG)(e);if(s.empty){let e=(0,n.KR)(d,"trivia"),t=(0,n.Zy)(e,e=>{let t=e.val();if(t){let e=Object.entries(t).map(e=>{let[t,s]=e;return{id:t,...s}});r(e)}});return()=>t()}{let e=s.docs.map(e=>({id:e.id,...e.data()}));console.log("Submissions:",e),t("review"),f({correct:e[0].correct_answers,incorrect:e[0].wrong_answers})}}catch(e){console.error("Error fetching trivia data:",e)}})()},[v]),(0,l.jsxs)("section",{id:"trivia",className:"section 2xl:px-[10%] px-[5%] flex w-full justify-center relative z-20",children:[(0,l.jsx)("img",{src:"/small_ring.png",alt:"ring around live video",className:"lg:w-[400px] w-[50vw] lg:h-[400px] h-[50vw] absolute lg:right-[50px] right-[-25vw] lg:top-auto top-[-20vw] lg:bottom-[-100px] z-[-1] mix-blend-screen custom-spin iframe_right"}),(0,l.jsxs)("div",{className:"lg:aspect-[16/9] aspect-[9/16] h-auto lg:w-[75%] w-full bg-black",children:[(0,l.jsxs)("div",{className:"absolute h-full w-full flex items-center justify-center overflow-hidden",children:[(0,l.jsx)("img",{src:"/gold_ring_complete.png",alt:"gold_ring",className:"golden_ring transition-all duration-200 mix-blend-screen custom-spin ".concat("start"==e?"start_active":""," ").concat("question"==e?"question_active":""," ").concat("review"==e?"review_active":"")}),(0,l.jsx)("img",{src:"/stars.png",alt:"img frame",className:"h-full w-full object-cover"})]}),(0,l.jsxs)("div",{className:"absolute left-0 top-0 h-full w-full flex items-center justify-center flex-col duration-300 ".concat("start"==e?"opacity-100":"opacity-0 pointer-events-none"),children:[(0,l.jsx)("h2",{className:"bigtext capitalize",children:"trivia time"}),(0,l.jsx)("h3",{className:"smalltext capitalize",children:"show what you know"}),(0,l.jsxs)("button",{onClick:()=>{t("question")},className:"uppercase cursor-pointer flex gap-2 2xl:text-lg lg:mt-[5%] mt-5 text-base items-center bg-white text-[#000A32] rounded-3xl py-1 px-3",children:[(0,l.jsx)("img",{className:"h-6 w-4",src:"/play.svg",alt:"img snap"}),"let's go"]})]}),(0,l.jsxs)("div",{className:"questions absolute left-0 top-0 h-full p-4 w-full  flex items-center justify-center gap-4 flex-col duration-300 ".concat("question"==e?"opacity-100":"opacity-0 pointer-events-none"),children:[(0,l.jsx)("h2",{className:"smalltext ques mt-[50px] text-center",children:_&&_.question}),(0,l.jsx)("div",{className:"options grid lg:grid-cols-2 grid-cols-1 gap-1",children:_&&_.options.map((e,t)=>{let s=x===e.text,a=e.text===_.answer,r=g&&s?{backgroundColor:a?"#376B2C":"#8E2525"}:s?{background:"linear-gradient(90deg, #D9A47B 0%, #C5A753 50%, #E3C362 100%)"}:{};return(0,l.jsxs)("button",{onClick:()=>j(e),disabled:g,style:r,className:"relative bg-[#0A1230] lg:text-[20px] text-base text-white rounded-3xl py-0.5 px-3 min-w-[250px] uppercase  !font-thin",children:[(0,l.jsx)("img",{src:"/border.png",alt:"border",className:"absolute top-[-1px] left-[-1px] h-full w-full"}),e.text]},t)})}),(0,l.jsxs)("div",{className:"navigation",children:[!g&&(0,l.jsxs)("button",{onClick:()=>{if(!x)return;u(!0);let e=x===s[i].answer;f(t=>({correct:t.correct+(e?1:0),incorrect:t.incorrect+(e?0:1)}))},disabled:!x,style:{cursor:x?"pointer":"not-allowed",opacity:x?1:.6},className:"uppercase cursor-pointer flex gap-2 lg:text-[20px] text-base lg:mt-[6%] mt-3  items-center !bg-white !text-[#000A32] rounded-3xl py-1 px-3",children:["Submit",(0,l.jsx)("img",{src:"/arrow.svg",alt:"arrow icon",className:"h-4 w-4"})]}),g&&i<s.length-1&&(0,l.jsxs)("button",{onClick:()=>{c(e=>e+1),p(null),u(!1)},className:"uppercase cursor-pointer flex gap-2 lg:text-[20px]  lg:mt-[6%] mt-3 text-base items-center !bg-white !text-[#000A32] rounded-3xl py-1 px-3",children:["Next"," ",(0,l.jsx)("img",{src:"/arrow.svg",alt:"arrow icon",className:"h-4 w-4"})]}),g&&i===s.length-1&&(0,l.jsxs)("button",{onClick:()=>{y(),t("review")},className:"uppercase cursor-pointer flex gap-2 2xl:text-lg lg:mt-[6%] mt-3 text-base items-center !bg-white !text-[#000A32] rounded-3xl py-1 px-3",children:["Finish"," ",(0,l.jsx)("img",{src:"/arrow.svg",alt:"arrow icon",className:"h-4 w-4"})]})]})]}),(0,l.jsxs)("div",{className:"review_answer absolute  left-0 top-0 h-full w-full flex flex-col items-center justify-center duration-300 ".concat("review"==e?"opacity-100":"opacity-0 pointer-events-none"),children:[(0,l.jsxs)("div",{className:"flex gap-2 items-baseline",children:[(0,l.jsx)("p",{className:"review_answer_ text-[#d9d9c4]",children:h.correct})," ",(0,l.jsx)("p",{className:"review_answer___ text-[#d9d9c4]",children:"/"}),(0,l.jsx)("p",{className:"review_answer__ text-white",children:s.length?s.length:h.correct+h.incorrect})]}),(0,l.jsxs)("p",{className:"review_answer____",children:["Total Questions ",(0,l.jsx)("br",{}),"Answered Correctly"]})]})]})]})};x.os.registerPlugin(p.u);let j=()=>{let[e,t]=(0,a.useState)(null),[s,r]=(0,a.useState)(!1),[c,p]=(0,a.useState)(!0),[u,f]=(0,a.useState)(null),[j,N]=(0,a.useState)(null),[y,_]=(0,a.useState)("");(0,a.useEffect)(()=>{let e=(0,n.KR)(d,"poll"),s=(0,n.Zy)(e,e=>{let s=e.val();if(s){let e=Object.entries(s).find(e=>{let[t,s]=e;return s.isActive});if(e){let[s,l]=e;console.log("Active Poll ID: ".concat(s),l),t({id:s,...l}),N(l.PollIndex)}else console.log("No active poll found."),t(null),N(null)}else console.error("No polls found in the database."),t(null),N(null)});return()=>s()},[]);let S=async(t,s)=>{try{let t=(0,o.rJ)(m,"poll_submission");await (0,o.gS)(t,{question:e.question,selectedOption:s.text,createdAt:new Date().toISOString(),email:y}),console.log("Poll submission saved to Firestore.")}catch(e){console.error("Error saving poll submission to Firestore: ",e)}try{let t=(0,n.KR)(d,"poll/".concat(e.id,"/submissions"));await (0,n.yo)(t,{[s.text]:(0,n.GV)(1)}),console.log("Poll submission result updated in Realtime Database.")}catch(e){console.error("Error updating poll submission result in Realtime Database: ",e)}};(0,a.useEffect)(()=>{let e=C("user");e&&_(e.email)},[]),(0,a.useEffect)(function(){i()(document).ready(function(){i()(".emoji").click(function(){let e=i()(this).data("emoji"),t=Math.floor(9*Math.random())+4;for(let s=0;s<t;s++){let t=Math.floor(11*Math.random())+0;setTimeout(()=>{let s=i()("<span></span>").addClass("emoji-item").text(e).css("left","".concat(8*t,"%"));i()(".iframe_div").append(s),s.on("animationend",function(){i()(this).remove()})},200)}})})},[]),(0,a.useEffect)(()=>{e&&y&&(async()=>{let t=(0,o.P)((0,o.rJ)(m,"poll_submission"),(0,o._M)("email","==",y),(0,o._M)("question","==",e.question));try{let e=await (0,o.GG)(t);e.empty?r(!1):(r(!0),e.forEach(e=>{let t=e.data();f(t.selectedOption)}))}catch(e){console.error("Error fetching poll submission:",e)}finally{p(!1)}})()},[y,e]);let C=e=>{try{let t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(e){return console.error("Error retrieving from localStorage:",e),null}};return(0,a.useEffect)(()=>{x.os.to(".image_1",{top:"-5%",opacity:1,duration:.5,scrollTrigger:{trigger:"#snap",start:"top 80%",end:"bottom 60%"}}),x.os.to(".image_2",{top:"-20%",opacity:1,duration:.5,delay:.5,scrollTrigger:{trigger:"#snap",start:"top 80%",end:"bottom 60%"}}),x.os.to(".image_3",{top:"0px",opacity:1,duration:.5,delay:1,scrollTrigger:{trigger:"#snap",start:"top 80%",end:"bottom 60%"}})},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("video",{src:"/stars6.mp4",id:"video",autoPlay:!0,loop:!0,muted:!0,controls:!1,playsInline:!0,className:"fixed h-screen w-screen inset-0 saturate-50 hue-rotate-180 object-cover mix-blend-screen pointer-events-none select-none"}),(0,l.jsx)("div",{className:"layer_back fixed"}),(0,l.jsx)(g,{pollIndexNumber:j}),(0,l.jsx)(h,{}),(0,l.jsx)(v,{}),(0,l.jsx)(b,{}),(0,l.jsxs)("section",{id:"poll",className:"poll section px-[10%] py-[9%] flex items-center justify-center relative z-10 overflow-hidden",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"heading_section flex flex-col ",children:[(0,l.jsx)("h2",{className:"smalltext text-center -translate-x-10",children:"Have Your Say"}),(0,l.jsx)("h3",{className:"bigtext text-center translate-x-10",children:"Live Polling"})]}),(0,l.jsx)("div",{className:"option_div flex flex-col gap-2 items-center",children:e&&e.question?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{className:"smalltext text-center mt-12 scale-95 max-w-[500px]",children:e.question}),!c&&(s?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"border-l border-b h-[400px] w-[100%] min-w-[800px] mt-[50px] pb-[20px] pl-[20px] flex gap-2 items-end",children:e.options.map(t=>{var s;let a=Object.values(e.submissions||{}).reduce((e,t)=>e+t,0),r=(null===(s=e.submissions)||void 0===s?void 0:s[t.text])||0,i=a>0?r/a*100:0,n={height:"".concat(i,"%"),background:u===t.text?"linear-gradient(356deg, #D9A47B 1.78%, #C5A753 50%, #E3C362 98.22%)":"#5C6A87"};return(0,l.jsx)("div",{title:"".concat(t.text,": ").concat(r," (").concat(i.toFixed(1),"%)"),style:n,className:"relative w-full  min-h-1 rounded-lg bg-gray-200",children:(0,l.jsx)("p",{className:"font-bold text-sm absolute top-[-35px]",children:t.text})},t.text)})})}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"grid mt-4  sm:grid-cols-2 grid-cols-1 sm:gap-4 gap-[5px]",children:e.options.map(t=>(0,l.jsxs)("button",{onClick:()=>{S(e.question,t),r(!0)},className:"relative bg-[#0A1230] text-[20px] text-white rounded-3xl sm:py-3 sm:px-3 py-1 min-w-[250px] uppercase !font-thin",children:[t.text,(0,l.jsx)("div",{alt:"border",className:"btn_bg absolute top-[-1px] left-[-1px] h-full w-full sm:min-w-[250px] min-w-[200px] bg-red-200"})]},t.text))})}))]}):(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"mt-10",children:[(0,l.jsx)("p",{className:"text-3xl w-[350px] text-center",children:"The live polling will be starting soon!"}),(0,l.jsx)("br",{}),(0,l.jsx)("p",{className:"text-3xl w-[350px] text-center",children:"Stay tuned and get ready to participate."})]})})})]}),(0,l.jsx)("img",{src:"/white_ring_complete.png",alt:"ring around live video",className:"sm:w-auto sm:h-[150%] min-w-[80vh] w-[80vh] min-h-80vh h-80vh sm:min-w-0 sm:min-h-0  aspect-square absolute pointer-events-none mix-blend-screen custom-spin iframe_right"}),(0,l.jsx)("img",{src:"/small_ring.png",alt:"ring around live video",className:"sm:w-[300px] w-[50vw] h-[50vw] sm:h-[300px] aspect-square sm:left-[-120px] left-[-25vw] sm:bottom-[-150px] bottom-[-25vw] absolute pointer-events-none mix-blend-screen custom-spin iframe_right"}),(0,l.jsx)("img",{src:"/small_ring.png",alt:"ring around live video",className:"sm:w-[300px] w-[40vw] h-[40vw] sm:h-[300px] aspect-square sm:right-[-180px] right-[-25vw] sm:bottom-[50px] bottom-[ovw] absolute pointer-events-none mix-blend-screen custom-spin iframe_right"})]}),(0,l.jsx)(w,{})]})},N=()=>{let[e,t]=(0,a.useState)(""),[s,r]=(0,a.useState)(!1),[i,n]=(0,a.useState)(!1);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("section",{id:"login",className:"login fixed h-screen w-full bg-[#000A32] grid grid-cols-2 ",children:[(0,l.jsxs)("div",{className:"relative first",children:[(0,l.jsx)("img",{width:1920,height:1080,src:"/gold_ring_complete.png",alt:"gold ring",className:"home_gold  mix-blend-screen custom-spin-anti pointer-events-none select-none h-screen w-auto mt-0 border-0 absolute right-[10%] top-[-10vh] bottom-0 min-h-[120vh] min-w-[120vh] !aspect-square"}),(0,l.jsx)("img",{alt:"background",src:"/stars.png",id:"",width:1920,height:1080,className:"white_start custom-spin pointer-events-none  absolute m-0 border-0 h-full min-w-[190%] min-h-[150%] left-[-65%] sm:top-[-20%] top-[-30%] "}),(0,l.jsxs)("div",{className:"lg:w-fit w-full lg:h-full h-[70%] 2xl:pl-[15%] flex justify-center items-center flex-col gap-5 p-[5%] ",children:[(0,l.jsx)("img",{src:"/logo.png",className:"m-0 lg:w-[100%] w-[35%] border-0",width:500,height:500,alt:"logo"}),(0,l.jsx)("h1",{className:"text-white sm:text-3xl text-2xl logo_text",children:"A Galaxy of Excellence"})]})]}),(0,l.jsxs)("div",{className:"h-full w-full flex flex-col gap-6 justify-center lg:items-start items-center p-[5%] sm:mb-0 sm:pb-0 pb-[25%]",children:[(0,l.jsx)("img",{src:"/star_without_bg.svg",className:"m-0  pointer-events-none select-none absolute right-0 top-0 border-0 w-[60%]",width:500,height:500,alt:"star"}),(0,l.jsx)("img",{src:"/star_without_bg.svg",className:"m-0  pointer-events-none select-none absolute right-0 bottom-0 rotate-180 border-0 w-[60%]",width:500,height:500,alt:"star"}),(0,l.jsx)("img",{src:"/small_ring.png",className:"mix-blend-screen custom-spin top_ring_image m-0 pointer-events-none select-none absolute lg:right-0 lg:left-auto left-[-30.5vw] right-auto  border-0 lg:w-[45vh] w-[45vw] lg:h-[45vh] h-[45vw] lg:bottom-[-20vh] bottom-0",width:500,height:500,alt:"star"}),(0,l.jsx)("img",{src:"/small_ring.png",className:"mix-blend-screen m-0 bottom_ring_image custom-spin-anti pointer-events-none select-none absolute lg:bottom-auto lg:right-[8%] right-[-22.5vw] lg:top-[-22.5vh] top-auto bottom-[-22.5vw] border-0 lg:w-[45vh] w-[45vw] lg:h-[45vh] h-[45vw]",width:500,height:500,alt:"star"}),(0,l.jsx)("h2",{className:"2xl:text-3xl text-[24px] font-thin text-[#d9d9c4]",children:"Enter Your Email Id"}),(0,l.jsxs)("div",{className:"flex sm:gap-3 gap-4",children:[(0,l.jsx)("input",{onPaste:e=>{e.preventDefault()},onChange:e=>t(e.target.value),autoComplete:"off",value:e,spellCheck:!1,id:"email",className:"[all:unset] !focus:border-0 px-1.5 font-thin !text-[#d9d9c4] 2xl:!text-3xl !border-b sm:!text-[24px] !text-[20px] !border-[#5C6A87] lg:!min-w-[350px] sm:min-w-[250px] min-w-[150px] !w-[150px]"}),(0,l.jsx)("p",{className:"text-[#5C6A87] sm:text-[24px] text-[20px]",children:"@permo-ricard.com"})]}),(0,l.jsxs)("button",{onClick:function(){if(!e){alert("Please enter an email address.");return}let t="".concat(e);n(!0),localStorage.removeItem("user"),fetch("https://login-tyus23bdta-uc.a.run.app/?email=".concat(t),{method:"GET",mode:"no-cors",headers:{"Content-Type":"application/json"}}).then(()=>{r(!0)}).catch(e=>{console.error("Error sending email:",e)}).finally(()=>{n(!1)})},className:"".concat(i?"pointer-events-none":""," uppercase cursor-pointer flex gap-2 2xl:!text-2xl  lg:mt-[6%] mt-5 text-base items-center bg-[#d9d9c4] text-[#000A32] rounded-3xl py-1 px-3 "),children:[i?"Please wait...":"step into the galaxy",(0,l.jsx)("img",{className:"h-4 w-4",src:"/arrow.svg",alt:"img snap"})]})]}),(0,l.jsx)("div",{id:"mail_pop",className:"absolute w-full h-full bg-[#00000050] backdrop-blur-sm  justify-center items-center ".concat(s?"flex":" hidden"," "),children:(0,l.jsxs)("div",{className:"relative bg-[#000A32] p-5 flex flex-col gap-3 items-center justify-center lg:py-[100px] py-20 h-fit lg:px-[100px] sm:w-fit w-full px-8 overflow-hidden",children:[(0,l.jsx)("p",{className:"text-white text-center sm:text-[20px] text-xs ",children:"We have sent you an invitation link at your email address."}),(0,l.jsx)("p",{className:"sm:text-[34px] text-xl text-[#d9d9c4]",children:e}),(0,l.jsx)("img",{src:"/small_ring.png",alt:"small ring",className:"mix-blend-screen small_ring_pop custom-spin pointer-events-none select-none absolute h-[250px] w-[250px] right-[-125px] top-[-125px]"}),(0,l.jsx)("img",{src:"/small_ring.png",alt:"small ring",className:"mix-blend-screen small_ring_pop_left custom-spin-anti pointer-events-none select-none absolute h-[250px] w-[250px] left-[-125px] bottom-[-125px]"}),(0,l.jsx)("img",{src:"/star_without_bg.svg",alt:"small ring",className:" pointer-events-none select-none absolute h-[300px] w-[70%] right-[-30%] bottom-[-20px]"}),(0,l.jsx)("img",{src:"/star_without_bg.svg",alt:"small ring",className:" pointer-events-none select-none absolute h-[400px] w-[800px] right-[-30%] bottom-[-80%]"}),(0,l.jsx)("img",{src:"/star_without_bg.svg",alt:"small ring",className:" pointer-events-none select-none absolute h-[300px] w-[70%] left-[-30%] top-[-40px]"})]})})]})})};var y=s(2651);let _=(e,t)=>{try{let s=JSON.stringify(t);localStorage.setItem(e,s)}catch(e){console.error("Error saving to localStorage:",e)}},S=e=>{try{let t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(e){return console.error("Error retrieving from localStorage:",e),null}};function C(){let[e,t]=(0,a.useState)(!1),[s,r]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=async e=>{try{let s=await y.A.get("https://login-tyus23bdta-uc.a.run.app/?uid=".concat(e.uid),{headers:{"Content-Type":"application/json"}});if(s.data){let{email:e,uid:l}=s.data;e&&l&&(_("user",{email:e,uid:l}),t(!0))}}catch(e){console.error("Error fetching user data:",e),t(!1)}finally{r(!1)}};{let t=S("user");if(null==t?void 0:t.uid)e({uid:t.uid});else{let t=new URLSearchParams(window.location.search).get("uid");t?e({uid:t}):r(!1)}}},[]),(0,l.jsx)(l.Fragment,{children:!s&&(e?(0,l.jsx)(j,{}):(0,l.jsx)(N,{}))})}}},e=>{var t=t=>e(e.s=t);e.O(0,[910,740,592,992,507,553,441,517,358],()=>t(1228)),_N_E=e.O()}]);